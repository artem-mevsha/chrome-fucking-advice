{"version":3,"sources":["app/js/FuckingGreatAdvice/index.js","app/js/Popup/index.js","app/js/index.js","app/js/popup.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7EA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;ACAA;AAAA;AACA;AADA;AAAA","file":"dev-fucking-great-advice/js/app.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar FuckingGreatAdvice = function () {\n  function FuckingGreatAdvice(url) {\n    _classCallCheck(this, FuckingGreatAdvice);\n\n    this.images = ['0.jpg', '1.jpg', '2.jpg', '3.jpg', '4.jpg', '5.jpg', '6.jpg', '7.jpg', '8.jpg', '9.jpg', '10.jpg', '11.jpg', '12.jpg', '13.jpg', '14.jpg', '15.jpg'];\n    this.url = url;\n    this.apiEndpoint = 'api';\n    this.soundSrc = '' + url;\n    this.errorText = 'Ошибка скоро будет исправлена. Потерпи блять!';\n    this.init();\n  }\n\n  _createClass(FuckingGreatAdvice, [{\n    key: 'init',\n    value: function init() {\n      this.fetchQuote();\n    }\n  }, {\n    key: 'getApiEndpoint',\n    value: function getApiEndpoint() {\n      var url = this.url,\n          apiEndpoint = this.apiEndpoint;\n\n      return url + '/' + apiEndpoint;\n    }\n  }, {\n    key: 'getImageUrl',\n    value: function getImageUrl() {\n      var images = this.images;\n      var imageIndex = Math.floor(Math.random() * (images.length - 0));\n      return 'img/' + images[imageIndex];\n    }\n  }, {\n    key: 'fetchQuote',\n    value: function fetchQuote() {\n      var _this = this;\n\n      var apiUrl = this.getApiEndpoint();\n      fetch(apiUrl + '/random', {\n        method: 'GET',\n        mode: 'cors'\n      }).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        return _this.renderQuote(json.text);\n      }).catch(function () {\n        return _this.renderQuote(_this.errorText);\n      });\n    }\n  }, {\n    key: 'renderQuote',\n    value: function renderQuote(text) {\n      this.text = text;\n      var adviceSelector = document.querySelector('.advice');\n      var textSelector = document.querySelector('.advice__text');\n      var imageSrc = this.getImageUrl();\n\n      adviceSelector.style.backgroundImage = 'url(' + imageSrc + ')';\n      textSelector.innerHTML = text;\n      textSelector.classList.add('advice__text--ready');\n    }\n  }]);\n\n  return FuckingGreatAdvice;\n}();\n\nexports.default = FuckingGreatAdvice;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Popup = function () {\n  function Popup() {\n    _classCallCheck(this, Popup);\n\n    this.defaultCategory = 'all';\n    this.category = localStorage['fucking-great-advice-category'] || this.defaultCategory;\n    this.initListeners();\n  }\n\n  _createClass(Popup, [{\n    key: 'setCategory',\n    value: function setCategory(category) {\n      this.category = category;\n      localStorage['fucking-great-advice-category'] = category;\n    }\n  }, {\n    key: 'initListeners',\n    value: function initListeners() {\n      var categorySelector = document.querySelector('.radio__input');\n      categorySelector.addEventListener('change', function () {\n        this.setCategory(this.value);\n      });\n    }\n  }]);\n\n  return Popup;\n}();\n\nexports.default = Popup;\n","'use strict';\n\nvar _FuckingGreatAdvice = require('./FuckingGreatAdvice');\n\nvar _FuckingGreatAdvice2 = _interopRequireDefault(_FuckingGreatAdvice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  var advice = new _FuckingGreatAdvice2.default('http://fucking-great-advice.ru/');\n});\n","\"use strict\";\n"]}